/*
 This file is auto-generated */
window.wp=window.wp||{};
(function(d){function w(n=""){return""===n||null===n||void 0===n||0==n?!0:!1}function D(n){d("#authorization_form .ajax-notice").html('<p style="color:#fd4c73;">'+n+"</p>")}var E="undefined"===typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(n){var a,c={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(b){a=a||_.template(d("#tmpl-"+n).html(),c);return a(b)}});wp.ajax={settings:E.ajax||{},post:function(n,
a){return wp.ajax.send({data:_.isObject(n)?n:_.extend(a||{},{action:n})})},send:function(n,a){_.isObject(n)?a=n:(a=a||{},a.data=_.extend(a.data||{},{action:n}));a=_.defaults(a||{},{type:"POST",url:wp.ajax.settings.url,context:this});var c=d.Deferred(function(g){a.success&&g.done(a.success);a.error&&g.fail(a.error);delete a.success;delete a.error;g.jqXHR=d.ajax(a).done(function(e){if("1"===e||1===e)e={success:!0};console.log(e);if(_.isObject(e)&&!_.isUndefined(e.success)){var f=this;g.done(function(){n&&
n.data&&"query-attachments"===n.data.action&&g.jqXHR.hasOwnProperty("getResponseHeader")&&g.jqXHR.getResponseHeader("X-WP-Total")?f.totalAttachments=parseInt(g.jqXHR.getResponseHeader("X-WP-Total"),10):f.totalAttachments=0});g[e.success?"resolveWith":"rejectWith"](this,[e.data])}else g.rejectWith(this,[e])}).fail(function(){g.rejectWith(this,arguments)})});var b=c.promise();b.abort=function(){c.jqXHR.abort();return this};return b}};d("#authorization_submit").on("click",function(n){n.preventDefault();
n=d("#authorization_form").data("ajaxurl");let a=d("input[name='action']").val();if("get_ocpro_authorization"===a){let c=d("input[name='key_code']").val();if(w(c))return D("\u7f3a\u5c11\u53c2\u6570"),!1;d.post(n,{do:a,key:c},function(b){1!==b.code?D(b.msg):window.location.reload()})}else"get_ocpro_delete_authorization"===a&&confirm("\u662f\u5426\u5220\u9664\u6388\u6743\uff1f")&&d.post(n,{do:a},function(c){1!==c.code?D(c.msg):window.location.reload()})})})(jQuery);
!function(d,w,D,E){var n=n||{};n.funcs={};n.vars={onloaded:!1,$body:d("body"),$window:d(w),$document:d(D),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:d("body").hasClass("rtl")};n.helper={uid:function(a){return(a||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(a){return(a+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(a,c){var b=new RegExp(n.helper.preg_quote(c+"[\\d+]"),"g");a.find(":radio").each(function(){(this.checked||this.orginal_checked)&&
(this.orginal_checked=!0)});a.each(function(g){d(this).find(":input").each(function(){this.name=this.name.replace(b,c+"["+g+"]");this.orginal_checked&&(this.checked=!0)})})},debounce:function(a,c,b){var g;return function(){var e=this,f=arguments,h=b&&!g;clearTimeout(g);g=setTimeout(function(){g=null;b||a.apply(e,f)},c);h&&a.apply(e,f)}}};d.fn.csf_clone=function(){for(var a=d.fn.clone.apply(this,arguments),c=this.find("select").add(this.filter("select")),b=a.find("select").add(a.filter("select")),
g=0;g<c.length;++g)for(var e=0;e<c[g].options.length;++e)!0===c[g].options[e].selected&&(b[g].options[e].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),a};d.fn.csf_expand_all=function(){return this.each(function(){d(this).on("click",function(a){a.preventDefault();d(".csf-wrapper").toggleClass("csf-show-all");d(".csf-section").csf_reload_script();d(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})};d.fn.csf_nav_options=function(){return this.each(function(){var a,
c=d(this),b=d(w),g=d("#wpwrap"),e=c.find("a");b.on("hashchange csf.hashchange",function(){var f=w.location.hash.replace("#tab=","");f=decodeURI(f||e.first().attr("href").replace("#tab=",""));var h=d('[data-tab-id="'+f+'"]');h.length&&(h.closest(".csf-tab-item").addClass("csf-tab-expanded").siblings().removeClass("csf-tab-expanded"),h.next().is("ul")&&(f=(h=h.next().find("li").first().find("a")).data("tab-id")),e.removeClass("csf-active"),h.addClass("csf-active"),a&&a.addClass("hidden"),f=d('[data-section-id="'+
f+'"]'),f.removeClass("hidden"),f.csf_reload_script(),d(".csf-section-id").val(f.index()+1),a=f,g.hasClass("wp-responsive-open")&&(d("html, body").animate({scrollTop:f.offset().top-50},200),g.removeClass("wp-responsive-open")))}).trigger("csf.hashchange")})};d.fn.csf_nav_metabox=function(){return this.each(function(){var a,c=d(this),b=c.find("a"),g=c.parent().find(".csf-section");b.each(function(e){d(this).on("click",function(f){f.preventDefault();f=d(this);b.removeClass("csf-active");f.addClass("csf-active");
a!==E&&a.addClass("hidden");f=g.eq(e);f.removeClass("hidden");f.csf_reload_script();a=f})});b.first().trigger("click")})};d.fn.csf_page_templates=function(){this.length&&d(D).on("change",".editor-page-attributes__template select, #page_template",function(){var a=d(this).val()||"default";d(".csf-page-templates").removeClass("csf-metabox-show").addClass("csf-metabox-hide");d(".csf-page-"+a.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("csf-metabox-hide").addClass("csf-metabox-show")})};d.fn.csf_post_formats=
function(){this.length&&d(D).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var a=d(this).val()||"default";a="0"===a?"default":a;d(".csf-post-formats").removeClass("csf-metabox-show").addClass("csf-metabox-hide");d(".csf-post-format-"+a).removeClass("csf-metabox-hide").addClass("csf-metabox-show")})};d.fn.csf_search=function(){return this.each(function(){d(this).find("input").on("change keyup",function(){var a=$(this).val(),c=$(".csf-wrapper"),b=c.find(".csf-section").find("> .csf-field:not(.csf-depend-on)"),
g=b.find("> .csf-title, .csf-search-tags");1<a.length?(b.addClass("csf-metabox-hide"),c.addClass("csf-search-all"),g.each(function(){var e=$(this);e.text().match(new RegExp(".*?"+a+".*?","i"))&&(e=e.closest(".csf-field"),e.removeClass("csf-metabox-hide"),e.parent().csf_reload_script())})):(b.removeClass("csf-metabox-hide"),c.removeClass("csf-search-all"))})})};d.fn.csf_sticky=function(){return this.each(function(){var a=d(this),c=d(window),b=a.find(".csf-header-inner");parseInt(b.css("padding-left"));
parseInt(b.css("padding-right"));var g=0,e=!1,f=function(){e||requestAnimationFrame(function(){var k=a.offset().top;k=Math.max(8,k-g);var l=c.innerWidth();8>=k&&782<l?(b.css({width:a.outerWidth()}),a.css({height:a.outerHeight()}).addClass("csf-sticky")):(b.removeAttr("style"),a.removeAttr("style").removeClass("csf-sticky"));e=!1});e=!0},h=function(){g=c.scrollTop();f()};c.on("scroll resize",h);h()})};$.fn.csf_dependency=function(){return this.each(function(){var a=$(this),c=a.children("[data-controller]");
if(c.length){var b=$.csf_deps.createRuleset(),g=$.csf_deps.createRuleset(),e=[],f=[];c.each(function(){var h=$(this),k=h.data("controller").split("|"),l=h.data("condition").split("|"),m=h.data("value").toString().split("|"),p=h.data("depend-global")?!0:!1,r=p?g:b;$.each(k,function(u,q){r=r.createRule('[data-depend-id="'+q+'"]',l[u]||l[0],m[u]||"");r.include(h);p?f.push(q):e.push(q)})});e.length&&$.csf_deps.enable(a,b,e);f.length&&$.csf_deps.enable(n.vars.$body,g,f)}})};d.fn.csf_field_accordion=function(){return this.each(function(){d(this).find(".csf-accordion-title").on("click",
function(){var a=d(this),c=a.find(".csf-accordion-icon");a=a.next();c.hasClass("fa-angle-right")?c.removeClass("fa-angle-right").addClass("fa-angle-down"):c.removeClass("fa-angle-down").addClass("fa-angle-right");a.data("opened")||(a.csf_reload_script(),a.data("opened",!0));a.toggleClass("csf-accordion-open")})})};d.fn.csf_field_backup=function(){return this.each(function(){var a=$(this);$("body");var c=a.find(".csf-import"),b=a.find(".csf-reset");b.on("click",function(g){g.preventDefault();confirm("\u786e\u5b9a\u5417")&&
window.wp.ajax.post("csf-reset",{unique:b.data("unique"),nonce:b.data("nonce")}).done(function(e){window.location.reload(!0)}).fail(function(e){alert(e.error)})});c.on("click",function(g){g.preventDefault();confirm("\u786e\u5b9a\u5417")&&window.wp.ajax.post("csf-import",{unique:c.data("unique"),nonce:c.data("nonce"),data:a.find(".csf-import-data").val()}).done(function(e){window.location.reload(!0)}).fail(function(e){alert(e.error)})})})};d.fn.csf_field_background=function(){return this.each(function(){d(this).find(".csf--background-image").csf_reload_script()})};
d.fn.csf_field_code_editor=function(){return this.each(function(){if("function"==typeof CodeMirror){var a=d(this),c=a.find("textarea"),b=a.find(".CodeMirror"),g=c.data("editor");b.length&&b.remove();var e=setInterval(function(){if(a.is(":visible")){var f=CodeMirror.fromTextArea(c[0],g);if("default"!==g.theme&&-1===n.vars.code_themes.indexOf(g.theme)){var h=d("<link>");d("#csf-codemirror-css").after(h);h.attr({rel:"stylesheet",id:"csf-codemirror-"+g.theme+"-css",href:g.cdnURL+"/theme/"+g.theme+".min.css",
type:"text/css",media:"all"});n.vars.code_themes.push(g.theme)}CodeMirror.modeURL=g.cdnURL+"/mode/%N/%N.min.js";CodeMirror.autoLoadMode(f,g.mode);f.on("change",function(k,l){c.val(f.getValue()).trigger("change")});clearInterval(e)}})}})};d.fn.csf_field_date=function(){return this.each(function(){var a=d(this),c=a.find("input"),b=a.find(".csf-date-settings").data("settings");b=d.extend({},b,{showAnim:"",beforeShow:function(g,e){d(e.dpDiv).addClass("csf-datepicker-wrapper")},onClose:function(g,e){d(e.dpDiv).removeClass("csf-datepicker-wrapper")}});
2===c.length&&(b=d.extend({},b,{onSelect:function(g){d(this);c.first();var e=c.first().attr("id")===d(this).attr("id")?"minDate":"maxDate";g=d.datepicker.parseDate(b.dateFormat,g);c.not(this).datepicker("option",e,g)}}));c.each(function(){var g=d(this);g.hasClass("hasDatepicker")&&g.removeAttr("id").removeClass("hasDatepicker");g.datepicker(b)})})};d.fn.csf_field_datetime=function(){return this.each(function(){var a=d(this),c=a.find("input"),b=a.find(".csf-datetime-settings").data("settings");b=d.extend({},
b,{onReady:function(g,e,f){d(f.calendarContainer).addClass("csf-flatpickr")}});2===c.length&&(b=d.extend({},b,{onChange:function(g,e,f){"from"===d(f.element).data("type")?c.last().get(0)._flatpickr.set("minDate",g[0]):c.first().get(0)._flatpickr.set("maxDate",g[0])}}));c.each(function(){d(this).flatpickr(b)})})};d.fn.csf_field_fieldset=function(){return this.each(function(){d(this).find(".csf-fieldset-content").csf_reload_script()})};d.fn.csf_field_gallery=function(){return this.each(function(){})};
d.fn.csf_field_group=function(){return this.each(function(){var a=d(this),c=a.children(".csf-fieldset");a=c.length?c:a;var b=a.children(".csf-cloneable-wrapper"),g=a.children(".csf-cloneable-hidden"),e=a.children(".csf-cloneable-max"),f=a.children(".csf-cloneable-min"),h=b.data("title-by"),k=b.data("title-by-prefix"),l=b.data("field-id"),m=!!Number(b.data("title-number")),p=parseInt(b.data("max")),r=parseInt(b.data("min"));b.hasClass("ui-accordion")&&b.find(".ui-accordion-header-icon").remove();var u=
function(q){q.find(".csf-cloneable-title-number").each(function(x){d(this).html(d(this).closest(".csf-cloneable-item").index()+1+".")})};b.accordion({header:"> .csf-cloneable-item > .csf-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"csf-cloneable-header-icon fas fa-angle-right",activeHeader:"csf-cloneable-header-icon fas fa-angle-down"},activate:function(q,x){var A=x.newPanel;q=x.newHeader;if(A.length&&!A.data("opened")){var H=q.find(".csf-cloneable-value"),
v=[];d.each(h,function(y,B){v.push(A.find('[data-depend-id="'+B+'"]'))});d.each(v,function(y,B){B.on("change keyup csf.keyup",function(){var I=[];d.each(v,function(M,J){(M=J.val())&&I.push(M)});I.length&&H.text(I.join(k))}).trigger("csf.keyup")});A.csf_reload_script();A.data("opened",!0);A.data("retry",!1)}else A.data("retry")&&(A.csf_reload_script_retry(),A.data("retry",!1))}});b.sortable({axis:"y",handle:".csf-cloneable-title,.csf-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",
start:function(q,x){b.accordion({active:!1});b.sortable("refreshPositions");x.item.children(".csf-cloneable-content").data("retry",!0)},update:function(q,x){n.helper.name_nested_replace(b.children(".csf-cloneable-item"),l);b.csf_customizer_refresh();m&&u(b)}});a.children(".csf-cloneable-add").on("click",function(q){q.preventDefault();var x=b.children(".csf-cloneable-item").length;(f.hide(),p&&p<x+1)?e.show():(q=g.csf_clone(!0),q.removeClass("csf-cloneable-hidden"),q.find(':input[name!="_pseudo"]').each(function(){this.name=
this.name.replace("___","").replace(l+"[0]",l+"["+x+"]")}),b.append(q),b.accordion("refresh"),b.accordion({active:x}),b.csf_customizer_refresh(),b.csf_customizer_listen({closest:!0}),m&&u(b))});c=function(q){q.preventDefault();q=b.children(".csf-cloneable-item").length;if(f.hide(),p&&p<q+1)e.show();else{q=d(this).parent().parent();var x=q.children(".csf-cloneable-helper").csf_clone(!0),A=q.children(".csf-cloneable-title").csf_clone(),H=q.children(".csf-cloneable-content").csf_clone(),v=d('<div class="csf-cloneable-item" />');
v.append(x);v.append(A);v.append(H);b.children().eq(q.index()).after(v);n.helper.name_nested_replace(b.children(".csf-cloneable-item"),l);b.accordion("refresh");b.csf_customizer_refresh();b.csf_customizer_listen({closest:!0});m&&u(b)}};b.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",c);a.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",c);c=function(q){q.preventDefault();q=b.children(".csf-cloneable-item").length;
e.hide();f.hide();r&&q-1<r?f.show():(d(this).closest(".csf-cloneable-item").remove(),n.helper.name_nested_replace(b.children(".csf-cloneable-item"),l),b.csf_customizer_refresh(),m&&u(b))};b.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",c);a.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",c)})};d.fn.csf_field_icon=function(){return this.each(function(){var a=d(this);a.on("click",".csf-icon-add",
function(c){c.preventDefault();c=d(this);var b=d("#csf-modal-icon");b.removeClass("hidden");n.vars.$icon_target=a;n.vars.icon_modal_loaded||(b.find(".csf-modal-loading").show(),w.wp.ajax.post("csf-get-icons",{nonce:c.data("nonce")}).done(function(g){b.find(".csf-modal-loading").hide();n.vars.icon_modal_loaded=!0;var e=b.find(".csf-modal-load").html(g.content);e.on("click","i",function(f){f.preventDefault();f=d(this).attr("title");n.vars.$icon_target.find(".csf-icon-preview i").removeAttr("class").addClass(f);
n.vars.$icon_target.find(".csf-icon-preview").removeClass("hidden");n.vars.$icon_target.find(".csf-icon-remove").removeClass("hidden");n.vars.$icon_target.find("input").val(f).trigger("change");b.addClass("hidden")});b.on("change keyup",".csf-icon-search",function(){var f=d(this).val();e.find("i").each(function(){var h=d(this);0>h.attr("title").search(new RegExp(f,"i"))?h.hide():h.show()})});b.on("click",".csf-modal-close, .csf-modal-overlay",function(){b.addClass("hidden")})}).fail(function(g){b.find(".csf-modal-loading").hide();
b.find(".csf-modal-load").html(g.error);b.on("click",function(){b.addClass("hidden")})}))});a.on("click",".csf-icon-remove",function(c){c.preventDefault();a.find(".csf-icon-preview").addClass("hidden");a.find("input").val("").trigger("change");d(this).addClass("hidden")})})};d.fn.csf_field_map=function(){return this.each(function(){if("undefined"!=typeof L){var a=d(this),c=a.find(".csf--map-osm"),b=a.find(".csf--map-search input"),g=a.find(".csf--latitude"),e=a.find(".csf--longitude"),f=a.find(".csf--zoom"),
h=c.data("map"),k=L.map(c.get(0),h);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(k);var l=L.marker(h.center,{draggable:!0}).addTo(k),m=function(r){g.val(r.lat);e.val(r.lng);f.val(k.getZoom())};k.on("click",function(r){l.setLatLng(r.latlng);m(r.latlng)});k.on("zoom",function(){m(l.getLatLng())});l.on("drag",function(){m(l.getLatLng())});b.length||(b=d('[data-depend-id="'+
a.find(".csf--address-field").data("address-field")+'"]'));var p={};b.autocomplete({source:function(r,u){var q=r.term;q in p?u(p[q]):d.get("https://nominatim.openstreetmap.org/search",{format:"json",q},function(x){x=x.length?x.map(function(A){return{value:A.display_name,label:A.display_name,lat:A.lat,lon:A.lon}},"json"):[{value:"no-data",label:"No Results."}];p[q]=x;u(x)})},select:function(r,u){if("no-data"===u.item.value)return!1;r=L.latLng(u.item.lat,u.item.lon);k.panTo(r);l.setLatLng(r);m(r)},
create:function(r,u){d(this).autocomplete("widget").addClass("csf-map-ui-autocomplate")}});a=function(){var r=L.latLng(g.val(),e.val());k.panTo(r);l.setLatLng(r)};g.on("change",a);e.on("change",a)}})};d.fn.csf_field_link=function(){return this.each(function(){var a=d(this),c=a.find(".csf--link"),b=a.find(".csf--add"),g=a.find(".csf--edit"),e=a.find(".csf--remove"),f=a.find(".csf--result"),h=n.helper.uid("csf-wplink-textarea-");b.on("click",function(k){k.preventDefault();w.wpLink.open(h)});g.on("click",
function(k){k.preventDefault();b.trigger("click");d("#wp-link-url").val(a.find(".csf--url").val());d("#wp-link-text").val(a.find(".csf--text").val());d("#wp-link-target").prop("checked","_blank"===a.find(".csf--target").val())});e.on("click",function(k){k.preventDefault();a.find(".csf--url").val("").trigger("change");a.find(".csf--text").val("");a.find(".csf--target").val("");b.removeClass("hidden");g.addClass("hidden");e.addClass("hidden");f.parent().addClass("hidden")});c.attr("id",h).on("change",
function(){var k=w.wpLink.getAttrs(),l=k.href,m=d("#wp-link-text").val();k=k.target?k.target:"";a.find(".csf--url").val(l).trigger("change");a.find(".csf--text").val(m);a.find(".csf--target").val(k);f.html('{url:"'+l+'", text:"'+m+'", target:"'+k+'"}');b.addClass("hidden");g.removeClass("hidden");e.removeClass("hidden");f.parent().removeClass("hidden")})})};d.fn.csf_field_media=function(){return this.each(function(){var a=$(this),c=a.find(".csf--button"),b=a.find(".csf--remove"),g=$(".media-modal-close");
c.data("library")&&c.data("library").split(",");var e=a.hasClass("csf-assign-field-background")?a.closest(".csf-field-background").find(".csf--auto-attributes"):!1,f=$("#__wp-uploader"),h=$("#menu-item-upload"),k=$("#menu-item-upload-tab"),l=$("#menu-item-browse"),m=$("#menu-item-browse-tab");h.on("click",function(p){m.hide();l.removeClass("active");k.show();h.hasClass("active")||h.addClass("active")});l.on("click",function(p){k.hide();h.removeClass("active");m.show();l.hasClass("active")||l.addClass("active")});
c.on("click",function(p){p.preventDefault();f.toggle();window.cur_media_click_instance=$(this)});g.on("click",function(p){f.hide()});b.on("click",function(p){p.preventDefault();e&&e.addClass("csf--attributes-hidden");b.addClass("hidden");a.find("input").val("");a.find(".csf--preview").addClass("hidden");a.find(".csf--url").trigger("change")})})};d.fn.csf_field_repeater=function(){return this.each(function(){var a=d(this),c=a.children(".csf-fieldset");a=c.length?c:a;var b=a.children(".csf-repeater-wrapper"),
g=a.children(".csf-repeater-hidden"),e=a.children(".csf-repeater-max"),f=a.children(".csf-repeater-min"),h=b.data("field-id"),k=parseInt(b.data("max")),l=parseInt(b.data("min"));b.children(".csf-repeater-item").children(".csf-repeater-content").csf_reload_script();b.sortable({axis:"y",handle:".csf-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(m,p){n.helper.name_nested_replace(b.children(".csf-repeater-item"),h);b.csf_customizer_refresh();p.item.csf_reload_script_retry()}});
a.children(".csf-repeater-add").on("click",function(m){m.preventDefault();var p=b.children(".csf-repeater-item").length;(f.hide(),k&&k<p+1)?e.show():(m=g.csf_clone(!0),m.removeClass("csf-repeater-hidden"),m.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(h+"[0]",h+"["+p+"]")}),b.append(m),m.children(".csf-repeater-content").csf_reload_script(),b.csf_customizer_refresh(),b.csf_customizer_listen({closest:!0}))});c=function(m){m.preventDefault();m=b.children(".csf-repeater-item").length;
if(f.hide(),k&&k<m+1)e.show();else{m=d(this).parent().parent().parent();var p=m.children(".csf-repeater-content").csf_clone(),r=m.children(".csf-repeater-helper").csf_clone(!0),u=d('<div class="csf-repeater-item" />');u.append(p);u.append(r);b.children().eq(m.index()).after(u);u.children(".csf-repeater-content").csf_reload_script();n.helper.name_nested_replace(b.children(".csf-repeater-item"),h);b.csf_customizer_refresh();b.csf_customizer_listen({closest:!0})}};b.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",
".csf-repeater-clone",c);a.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",".csf-repeater-clone",c);c=function(m){m.preventDefault();m=b.children(".csf-repeater-item").length;e.hide();f.hide();l&&m-1<l?f.show():(d(this).closest(".csf-repeater-item").remove(),n.helper.name_nested_replace(b.children(".csf-repeater-item"),h),b.csf_customizer_refresh())};b.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",".csf-repeater-remove",c);a.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",
".csf-repeater-remove",c)})};d.fn.csf_field_slider=function(){return this.each(function(){var a=d(this),c=a.find("input"),b=a.find(".csf-slider-ui");a=c.data();var g=c.val()||0;b.hasClass("ui-slider")&&b.empty();b.slider({range:"min",value:g,min:a.min||0,max:a.max||100,step:a.step||1,slide:function(e,f){c.val(f.value).trigger("change")}});c.on("keyup",function(){b.slider("value",c.val())})})};d.fn.csf_field_sortable=function(){return this.each(function(){var a=d(this).find(".csf-sortable");a.sortable({axis:"y",
helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(c,b){a.csf_customizer_refresh()}});a.find(".csf-sortable-content").csf_reload_script()})};d.fn.csf_field_sorter=function(){return this.each(function(){var a=d(this),c=a.find(".csf-enabled"),b=a.find(".csf-disabled");b=!!b.length&&b;c.sortable({connectWith:b,placeholder:"ui-sortable-placeholder",update:function(g,e){g=e.item.find("input");e.item.parent().hasClass("csf-enabled")?g.attr("name",g.attr("name").replace("disabled",
"enabled")):g.attr("name",g.attr("name").replace("enabled","disabled"));a.csf_customizer_refresh()}});b&&b.sortable({connectWith:c,placeholder:"ui-sortable-placeholder",update:function(g,e){a.csf_customizer_refresh()}})})};d.fn.csf_field_spinner=function(){return this.each(function(){var a=d(this),c=a.find("input");a=a.find(".ui-button");var b=c.data();a.length&&a.remove();c.spinner({min:b.min||0,max:b.max||100,step:b.step||1,create:function(g,e){b.unit&&c.after('<span class="ui-button csf--unit">'+
b.unit+"</span>")},spin:function(g,e){c.val(e.value).trigger("change")}})})};d.fn.csf_field_switcher=function(){return this.each(function(){var a=d(this).find(".csf--switcher");a.on("click",function(){var c=0,b=a.find("input");a.hasClass("csf--active")?a.removeClass("csf--active"):(c=1,a.addClass("csf--active"));b.val(c).trigger("change")})})};d.fn.csf_field_tabbed=function(){return this.each(function(){var a=d(this),c=a.find(".csf-tabbed-nav a"),b=a.find(".csf-tabbed-content");b.eq(0).csf_reload_script();
c.on("click",function(g){g.preventDefault();g=d(this);var e=g.index();e=b.eq(e);g.addClass("csf-tabbed-active").siblings().removeClass("csf-tabbed-active");e.csf_reload_script();e.removeClass("hidden").siblings().addClass("hidden")})})};d.fn.csf_field_typography=function(){return this.each(function(){var a=this,c=d(this),b=[],g=csf_typography_json.webfonts,e=csf_typography_json.googlestyles,f=csf_typography_json.defaultstyles;a.sanitize_subset=function(h){return(h=h.replace("-ext"," Extended")).charAt(0).toUpperCase()+
h.slice(1)};a.sanitize_style=function(h){return e[h]?e[h]:h};a.load_google_font=function(h,k,l){h&&"object"==typeof WebFont&&(k=k?k.replace("normal",""):"",l=l?l.replace("normal",""):"",(k||l)&&(h=h+":"+k+l),-1===b.indexOf(h)&&WebFont.load({google:{families:[h]}}),b.push(h))};a.append_select_options=function(h,k,l,m,p){h.find("option").not(":first").remove();var r="";d.each(k,function(u,q){var x=q;u=p?l&&-1!==l.indexOf(q)?" selected":"":l&&l===q?" selected":"";"subset"===m?x=a.sanitize_subset(q):
"style"===m&&(x=a.sanitize_style(q));r+='<option value="'+q+'"'+u+">"+x+"</option>"});h.append(r).trigger("csf.change").trigger("chosen:updated")};a.init=function(){var h=[],k=c.find(".csf--typography"),l=c.find(".csf--type"),m=c.find(".csf--block-font-style"),p=k.data("unit"),r=k.data("line-height-unit"),u=k.data("exclude")?k.data("exclude").split(","):[];c.find(".csf--chosen").length&&c.find("select").each(function(){var t=d(this),z=t.parent().find(".chosen-container");z.length&&z.remove();t.chosen({allow_single_deselect:!0,
disable_search_threshold:15,width:"100%"})});var q=c.find(".csf--font-family"),x=q.val();q.find("option").not(":first-child").remove();var A="";d.each(g,function(t,z){u&&-1!==u.indexOf(t)||(A+='<optgroup label="'+z.label+'">',d.each(z.fonts,function(C,G){A+='<option value="'+(G="object"==typeof G?C:G)+'" data-type="'+t+'"'+(G===x?" selected":"")+">"+G+"</option>"}),A+="</optgroup>")});q.append(A).trigger("chosen:updated");var H=c.find(".csf--block-font-style");if(H.length){var v=c.find(".csf--font-style-select"),
y=v.val()?v.val().replace(/normal/g,""):"";v.on("change csf.change",function(t){t=v.val();!t&&h&&-1===h.indexOf("normal")&&(t=h[0]);var z=t&&"italic"!==t&&"normal"===t?"normal":"";z=t&&"italic"!==t&&"normal"!==t?t.replace("italic",""):z;t=t&&"italic"===t.substr(-6)?"italic":"";c.find(".csf--font-weight").val(z);c.find(".csf--font-style").val(t)});var B=c.find(".csf--block-extra-styles");if(B.length)var I=c.find(".csf--extra-styles"),M=I.val()}var J=c.find(".csf--block-subset");if(J.length)var N=c.find(".csf--subset"),
K=N.val(),R=N.data("multiple")||!1;var P=c.find(".csf--block-backup-font-family");q.on("change csf.change",function(t){J.length&&J.addClass("hidden");B.length&&B.addClass("hidden");P.length&&P.addClass("hidden");t=q.find(":selected");var z=t.val();if((t=t.data("type"))&&z){if("google"!==t&&"custom"!==t||!P.length||P.removeClass("hidden"),H.length){var C=f;"google"===t&&g[t].fonts[z][0]?C=g[t].fonts[z][0]:"custom"===t&&g[t].fonts[z]&&(C=g[t].fonts[z]);var G=-1!==(h=C).indexOf("normal")?"normal":C[0];
G=y&&-1!==C.indexOf(y)?y:G;a.append_select_options(v,C,G,"style");y=!1;H.removeClass("hidden");"google"===t&&B.length&&1<C.length&&(a.append_select_options(I,C,M,"style",!0),M=!1,B.removeClass("hidden"))}"google"===t&&J.length&&g[t].fonts[z][1]&&(z=g[t].fonts[z][1],C=2>z.length&&"latin"!==z[0]?z[0]:"",C=K&&-1!==z.indexOf(K)?K:C,C=R&&K?K:C,a.append_select_options(N,z,C,"subset",R),K=!1,J.removeClass("hidden"))}else m.find(":input").val(""),J.length&&(N.find("option").not(":first-child").remove(),N.trigger("chosen:updated")),
H.length&&(v.find("option").not(":first-child").remove(),v.trigger("chosen:updated"));l.val(t)}).trigger("csf.change");var O=c.find(".csf--block-preview");if(O.length){var Q=c.find(".csf--preview");c.on("change",n.helper.debounce(function(t){O.removeClass("hidden");t=q.val();var z=c.find(".csf--font-weight").val(),C=c.find(".csf--font-style").val(),G=c.find(".csf--font-size").val(),S=c.find(".csf--font-variant").val(),T=c.find(".csf--line-height").val(),U=c.find(".csf--text-align").val(),V=c.find(".csf--text-transform").val(),
W=c.find(".csf--text-decoration").val(),X=c.find(".csf--color").val(),Y=c.find(".csf--word-spacing").val(),Z=c.find(".csf--letter-spacing").val(),aa=c.find(".csf--custom-style").val();"google"===c.find(".csf--type").val()&&a.load_google_font(t,z,C);var F={};t&&(F.fontFamily=t);z&&(F.fontWeight=z);C&&(F.fontStyle=C);S&&(F.fontVariant=S);G&&(F.fontSize=G+p);T&&(F.lineHeight=T+r);Z&&(F.letterSpacing=Z+p);Y&&(F.wordSpacing=Y+p);U&&(F.textAlign=U);V&&(F.textTransform=V);W&&(F.textDecoration=W);X&&(F.color=
X);Q.removeAttr("style");aa&&Q.attr("style",aa);Q.css(F)},100));O.on("click",function(){Q.toggleClass("csf--black-background");var t=O.find(".csf--toggle");t.hasClass("fa-toggle-off")?t.removeClass("fa-toggle-off").addClass("fa-toggle-on"):t.removeClass("fa-toggle-on").addClass("fa-toggle-off")});O.hasClass("hidden")||c.trigger("change")}};a.init()})};d.fn.csf_field_wp_editor=function(){return this.each(function(){if(void 0!==w.wp.editor&&void 0!==w.tinyMCEPreInit&&void 0!==w.tinyMCEPreInit.mceInit.csf_wp_editor){var a=
d(this),c=a.find(".csf-wp-editor"),b=a.find("textarea");(a.find(".wp-editor-wrap").length||a.find(".mce-container").length)&&(c.empty(),c.append(b),b.css("display",""));var g=n.helper.uid("csf-editor-");b.attr("id",g);var e={tinymce:w.tinyMCEPreInit.mceInit.csf_wp_editor,quicktags:w.tinyMCEPreInit.qtInit.csf_wp_editor},f=c.data("editor-settings"),h=wp.oldEditor?wp.oldEditor:wp.editor;h&&h.hasOwnProperty("autop")&&(wp.editor.autop=h.autop,wp.editor.removep=h.removep,wp.editor.initialize=h.initialize);
e.tinymce=d.extend({},e.tinymce,{selector:"#"+g,setup:function(l){l.on("change keyup",function(){var m=f.wpautop?l.getContent():wp.editor.removep(l.getContent());b.val(m).trigger("change")})}});!1===f.tinymce&&(e.tinymce=!1,c.addClass("csf-no-tinymce"));!1===f.quicktags&&(e.quicktags=!1,c.addClass("csf-no-quicktags"));var k=setInterval(function(){a.is(":visible")&&(w.wp.editor.initialize(g,e),clearInterval(k))});f.media_buttons&&w.csf_media_buttons&&(h=c.find(".wp-media-buttons"),h.length?h.find(".csf-shortcode-button").data("editor-id",
g):(h=d(w.csf_media_buttons),h.find(".csf-shortcode-button").data("editor-id",g),c.prepend(h)))}})};d.fn.csf_confirm=function(){return this.each(function(){d(this).on("click",function(a){var c=d(this).data("confirm")||w.csf_vars.i18n.confirm;if(!confirm(c))return a.preventDefault(),!1;n.vars.is_confirm=!0;n.vars.form_modified=!1})})};d.fn.serializeObject=function(){var a={};return d.each(this.serializeArray(),function(c,b){c=b.name;b=b.value;a[c]=a[c]===E?b:d.isArray(a[c])?a[c].concat(b):[a[c],b]}),
a};d.fn.csf_save=function(){return this.each(function(){var a,c=d(this),b=d(".csf-save"),g=d(".csf-options"),e=!1;c.on("click",function(f){if(!e){var h=c.data("save"),k=c.val();b.attr("value",h);c.hasClass("csf-save-ajax")?(f.preventDefault(),g.addClass("csf-saving"),b.prop("disabled",!0),w.wp.ajax.post("csf_"+g.data("unique")+"_ajax_save",{data:d("#csf-form").serializeJSONCSF()}).done(function(l){(d(".csf-error").remove(),Object.keys(l.errors).length)&&d.each(l.errors,function(p,r){p=d('[data-depend-id="'+
p+'"]');var u=d('a[href="#tab='+p.closest(".csf-section").data("section-id")+'"]'),q=u.closest(".csf-tab-item");p.closest(".csf-fieldset").append('<p class="csf-error csf-error-text">'+r+"</p>");u.find(".csf-error").length||u.append('<i class="csf-label-error csf-error">!</i>');q.find(".csf-arrow .csf-error").length||q.find(".csf-arrow").append('<i class="csf-label-error csf-error">!</i>')});g.removeClass("csf-saving");b.prop("disabled",!1).attr("value",k);e=!1;n.vars.form_modified=!1;n.vars.$form_warning.hide();
clearTimeout(a);var m=d(".csf-form-success");m.empty().append(l.notice).fadeIn("fast",function(){a=setTimeout(function(){m.fadeOut("fast")},1E3)})}).fail(function(l){alert(l.notice)})):n.vars.form_modified=!1}e=!0})})};d.fn.OCF_Options=function(){return this.each(function(){var a=d(this),c=a.find(".csf-content"),b=a.find(".csf-form-success"),g=a.find(".csf-form-warning"),e=a.find(".csf-header .csf-save");(n.vars.$form_warning=g).length&&(w.onbeforeunload=function(){return!!n.vars.form_modified||E},
c.on("change keypress",":input",function(){n.vars.form_modified||(b.hide(),g.fadeIn("fast"),n.vars.form_modified=!0)}));b.hasClass("csf-form-show")&&setTimeout(function(){b.fadeOut("fast")},1E3);d(D).keydown(function(f){if((f.ctrlKey||f.metaKey)&&83===f.which)return e.trigger("click"),f.preventDefault(),!1})})};d.fn.csf_taxonomy=function(){return this.each(function(){var a=d(this),c=a.parents("form");if("addtag"===c.attr("id")){var b=c.find("#submit"),g=a.find(".csf-field").csf_clone();b.on("click",
function(){c.find(".form-required").hasClass("form-invalid")||(a.data("inited",!1),a.empty(),a.html(g),g=g.csf_clone(),a.csf_reload_script())})}})};d.fn.csf_shortcode=function(){var a=this;return a.shortcode_parse=function(c,b){var g="";return d.each(c,function(e,f){g+="["+(b=b||e);d.each(f,function(h,k){"content"===h?(g+="]",g+=k,g+="[/"+b):g+=a.shortcode_tags(h,k)});g+="]"}),g},a.shortcode_tags=function(c,b){var g="";return""!==b&&("object"!=typeof b||d.isArray(b)?g+=" "+c+'="'+b.toString()+'"':
d.each(b,function(e,f){switch(e){case "background-image":f=f.url?f.url:""}""!==f&&(g+=" "+e+'="'+f.toString()+'"')})),g},a.insertAtChars=function(c,b){c=void 0!==c[0].name?c[0]:c;return c.value.length&&void 0!==c.selectionStart?(c.focus(),c.value.substring(0,c.selectionStart)+b+c.value.substring(c.selectionEnd,c.value.length)):(c.focus(),b)},a.send_to_editor=function(c,b){var g;("undefined"!=typeof tinymce&&(g=tinymce.get(b)),g&&!g.isHidden())?g.execCommand("mceInsertContent",!1,c):(b=d("#"+b),b.val(a.insertAtChars(b,
c)).trigger("change"))},this.each(function(){var c,b,g,e,f,h,k,l,m,p=d(this),r=p.find(".csf-modal-load"),u=(p.find(".csf-modal-content"),p.find(".csf-modal-insert")),q=p.find(".csf-modal-loading"),x=p.find("select"),A=p.data("modal-id"),H=p.data("nonce");d(D).on("click",'.csf-shortcode-button[data-modal-id="'+A+'"]',function(v){v.preventDefault();m=d(this);c=m.data("editor-id")||!1;b=m.data("target-id")||!1;g=m.data("gutenberg-id")||!1;p.removeClass("hidden");p.hasClass("csf-shortcode-single")&&f===
E&&x.trigger("change")});x.on("change",function(){var v=d(this),y=v.find(":selected");e=v.val();f=y.data("shortcode");h=y.data("view")||"normal";k=y.data("group")||f;r.empty();e?(q.show(),w.wp.ajax.post("csf-get-shortcode-"+A,{shortcode_key:e,nonce:H}).done(function(B){q.hide();B=d(B.content).appendTo(r);u.parent().removeClass("hidden");l=B.find(".csf--repeat-shortcode").csf_clone();B.csf_reload_script();B.find(".csf-fields").csf_reload_script()})):u.parent().addClass("hidden")});u.on("click",function(v){if(v.preventDefault(),
!u.prop("disabled")&&!u.attr("disabled")){var y="";v=p.find(".csf-field:not(.csf-depend-on)").find(":input:not(.ignore)").serializeObjectCSF();switch(h){case "contents":d.each(f?v[f]:v,function(B,I){B=f||B;y+="["+B+"]"+I+"[/"+B+"]"});break;case "group":y+="["+f;d.each(v[f],function(B,I){y+=a.shortcode_tags(B,I)});y+="]";y+=a.shortcode_parse(v[k],k);y+="[/"+f+"]";break;case "repeater":y+=a.shortcode_parse(v[k],k);break;default:y+=a.shortcode_parse(v)}(y=""===y?"["+f+"]":y,g)?(v=w.csf_gutenberg_props.attributes.hasOwnProperty("shortcode")?
w.csf_gutenberg_props.attributes.shortcode:"",w.csf_gutenberg_props.setAttributes({shortcode:v+y})):c?a.send_to_editor(y,c):(v=b?d(b):m.parent().find("textarea"),v.val(a.insertAtChars(v,y)).trigger("change"));p.addClass("hidden")}});p.on("click",".csf--repeat-button",function(v){v.preventDefault();v=p.find(".csf--repeatable");var y=l.csf_clone(),B=y.find(".csf-repeat-remove");y.appendTo(v);y.find(".csf-fields").csf_reload_script();n.helper.name_nested_replace(p.find(".csf--repeat-shortcode"),k);B.on("click",
function(){y.remove();n.helper.name_nested_replace(p.find(".csf--repeat-shortcode"),k)})});p.on("click",".csf-modal-close, .csf-modal-overlay",function(){p.addClass("hidden")})})};"function"==typeof Color&&(Color.prototype.toString=function(){if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(6>a.length)for(var c=6-a.length-1;0<=c;c--)a="0"+a;return"#"+a});n.funcs.parse_color=function(a){a=a.replace(/\s+/g,
"");var c=-1!==a.indexOf("rgba")?parseFloat(100*a.replace(/^.*,(.+)\)/,"$1")):100;return{value:a,transparent:c,rgba:100>c}};d.fn.csf_color=function(){return this.each(function(){var a,c=d(this),b=n.funcs.parse_color(c.val()),g=!w.csf_vars.color_palette.length||w.csf_vars.color_palette;c.hasClass("wp-color-picker")&&c.closest(".wp-picker-container").after(c).remove();c.wpColorPicker({palettes:g,change:function(e,f){e=f.color.toString();a.removeClass("csf--transparent-active");a.find(".csf--transparent-offset").css("background-color",
e);c.val(e).trigger("change")},create:function(){a=c.closest(".wp-picker-container");var e=c.data("a8cIris"),f=d('<div class="csf--transparent-wrap"><div class="csf--transparent-slider"></div><div class="csf--transparent-offset"></div><div class="csf--transparent-text"></div><div class="csf--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(a.find(".wp-picker-holder")),h=f.find(".csf--transparent-slider"),k=f.find(".csf--transparent-text"),l=f.find(".csf--transparent-offset");
f=f.find(".csf--transparent-button");"transparent"===c.val()&&a.addClass("csf--transparent-active");f.on("click",function(){"transparent"!==c.val()?(c.val("transparent").trigger("change").removeClass("iris-error"),a.addClass("csf--transparent-active")):(c.val(e._color.toString()).trigger("change"),a.removeClass("csf--transparent-active"))});h.slider({value:b.transparent,step:1,min:0,max:100,slide:function(m,p){m=parseFloat(p.value/100);e._color._alpha=m;c.wpColorPicker("color",e._color.toString());
k.text(1===m||0===m?"":m)},create:function(){var m=parseFloat(b.transparent/100);k.text(1>m?m:"");l.css("background-color",b.value);a.on("click",".wp-picker-clear",function(){e._color._alpha=1;k.text("");h.slider("option","value",100);a.removeClass("csf--transparent-active");c.trigger("change")});a.on("click",".wp-picker-default",function(){var p=n.funcs.parse_color(c.data("default-color")),r=parseFloat(p.transparent/100);e._color._alpha=r;k.text(1>r?r:"");h.slider("option","value",p.transparent);
"transparent"===p.value&&(c.removeClass("iris-error"),a.addClass("csf--transparent-active"))})}})}})})};d.fn.csf_chosen=function(){return this.each(function(){var a=d(this),c=a.parent().find(".chosen-container"),b=a.hasClass("csf-chosen-sortable")||!1,g=a.hasClass("csf-chosen-ajax")||!1,e=a.attr("multiple")||!1,f=d.extend({allow_single_deselect:!0,disable_search_threshold:10,width:e?"100%":"auto",no_results_text:w.csf_vars.i18n.no_results_text},a.data("chosen-settings"));(c.length&&c.remove(),g)?
(c=d.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:2,type_delay:500,typing_text:w.csf_vars.i18n.typing_text,searching_text:w.csf_vars.i18n.searching_text,no_results_text:w.csf_vars.i18n.no_results_text},a.data("chosen-settings")),a.CSFAjaxChosen(c)):a.chosen(f);if(e){var h=a.parent().find(".csf-hide-select");e=h.val()||[];a.on("change",function(l,m){m&&m.selected?h.append('<option value="'+m.selected+'" selected="selected">'+m.selected+
"</option>"):m&&m.deselected&&h.find('option[value="'+m.deselected+'"]').remove();w.wp.customize!==E&&0===h.children().length&&h.data("customize-setting-link")&&w.wp.customize.control(h.data("customize-setting-link")).setting.set("");h.trigger("change")});a.CSFChosenOrder(e,!0)}if(b){var k=a.parent().find(".chosen-container").find(".chosen-choices");k.bind("mousedown",function(l){d(l.target).is("span")&&l.stopPropagation()});k.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",
placeholder:"search-choice-placeholder",start:function(l,m){m.placeholder.width(m.item.innerWidth());m.placeholder.height(m.item.innerHeight())},update:function(l,m){var p="",r=a.data("chosen");l=a.parent().find(".csf-hide-select");k.find(".search-choice-close").each(function(){var u=d(this).data("option-array-index");d.each(r.results_data,function(q,x){x.array_index===u&&(p+='<option value="'+x.value+'" selected>'+x.value+"</option>")})});l.children().remove();l.append(p);l.trigger("change")}})}})};
d.fn.csf_checkbox=function(){return this.each(function(){var a=d(this),c=a.find(".csf--input"),b=a.find(".csf--checkbox");b.on("click",function(){c.val(Number(b.prop("checked"))).trigger("change")})})};d.fn.csf_siblings=function(){return this.each(function(){var a=d(this),c=a.find(".csf--sibling"),b=a.data("multiple")||!1;c.on("click",function(){var g=d(this);b?g.hasClass("csf--active")?(g.removeClass("csf--active"),g.find("input").prop("checked",!1).trigger("change")):(g.addClass("csf--active"),
g.find("input").prop("checked",!0).trigger("change")):(a.find("input").prop("checked",!1),g.find("input").prop("checked",!0).trigger("change"),g.addClass("csf--active").siblings().removeClass("csf--active"))})})};d.fn.csf_help=function(){return this.each(function(){var a,c,b=d(this);b.on({mouseenter:function(){a=d('<div class="csf-tooltip"></div>').html(b.find(".csf-help-text").html()).appendTo("body");c=n.vars.is_rtl?b.offset().left+24:b.offset().left-a.outerWidth();a.css({top:b.offset().top-(a.outerHeight()/
2-14),left:c})},mouseleave:function(){a!==E&&a.remove()}})})};d.fn.csf_customizer_refresh=function(){return this.each(function(){var a=d(this),c=a.closest(".csf-customize-complex");if(c.length){var b=c.data("unique-id");if(b===E)return;var g=c.find(":input");c=c.data("option-id");g=g.serializeObjectCSF();g=!d.isEmptyObject(g)&&g[b]&&g[b][c]?g[b][c]:"";b=w.wp.customize.control(b+"["+c+"]");b.setting._value=null;b.setting.set(g)}else a.find(":input").first().trigger("change");d(D).trigger("csf-customizer-refresh",
a)})};d.fn.csf_customizer_listen=function(a){var c=d.extend({closest:!1},a);return this.each(function(){if(w.wp.customize!==E){var b=c.closest?d(this).closest(".csf-customize-complex"):d(this),g=b.find(":input"),e=b.data("unique-id"),f=b.data("option-id");e!==E&&g.on("change keyup csf.change",function(){var h=b.find(":input").serializeObjectCSF();h=!d.isEmptyObject(h)&&h[e]&&h[e][f]?h[e][f]:"";w.wp.customize.control(e+"["+f+"]").setting.set(h)})}})};d(D).on("expanded",".control-section",function(){var a=
d(this);if(a.hasClass("open")&&!a.data("inited")){var c=a.find(".csf-customize-field"),b=a.find(".csf-customize-complex");c.length&&(a.csf_dependency(),c.csf_reload_script({dependency:!1}),b.csf_customizer_listen());a.data("inited",!0)}});n.vars.$window.on("resize csf.resize",n.helper.debounce(function(a){782>=(-1<navigator.userAgent.indexOf("AppleWebKit/")?n.vars.$window.width():w.innerWidth)&&!n.vars.onloaded&&(d(".csf-section").csf_reload_script(),n.vars.onloaded=!0)},200)).trigger("csf.resize");
d.fn.csf_widgets=function(){return this.each(function(){d(D).on("widget-added widget-updated",function(a,c){a=c.find(".csf-fields");a.length&&a.csf_reload_script()});d(D).on("click",".widget-top",function(a){a=d(this).parent().find(".csf-fields");a.length&&a.csf_reload_script()});d(".widgets-sortables, .control-section-sidebar").on("sortstop",function(a,c){c.item.find(".csf-fields").csf_reload_script_retry()})})};d.fn.csf_nav_menu=function(){return this.each(function(){var a=d(this);a.on("click",
"a.item-edit",function(){d(this).closest("li.menu-item").find(".csf-fields").csf_reload_script()});a.on("sortstop",function(c,b){b.item.find(".csf-fields").csf_reload_script_retry()})})};d.fn.csf_reload_script_retry=function(){return this.each(function(){var a=d(this);a.data("inited")&&a.children(".csf-field-wp_editor").csf_field_wp_editor()})};d.fn.csf_reload_script=function(a){var c=d.extend({dependency:!0},a);return this.each(function(){var b=d(this);b.data("inited")||(b.children(".csf-field-accordion").csf_field_accordion(),
b.children(".csf-field-backup").csf_field_backup(),b.children(".csf-field-background").csf_field_background(),b.children(".csf-field-code_editor").csf_field_code_editor(),b.children(".csf-field-date").csf_field_date(),b.children(".csf-field-datetime").csf_field_datetime(),b.children(".csf-field-fieldset").csf_field_fieldset(),b.children(".csf-field-gallery").csf_field_gallery(),b.children(".csf-field-group").csf_field_group(),b.children(".csf-field-icon").csf_field_icon(),b.children(".csf-field-link").csf_field_link(),
b.children(".csf-field-media").csf_field_media(),b.children(".csf-field-map").csf_field_map(),b.children(".csf-field-repeater").csf_field_repeater(),b.children(".csf-field-slider").csf_field_slider(),b.children(".csf-field-sortable").csf_field_sortable(),b.children(".csf-field-sorter").csf_field_sorter(),b.children(".csf-field-spinner").csf_field_spinner(),b.children(".csf-field-switcher").csf_field_switcher(),b.children(".csf-field-tabbed").csf_field_tabbed(),b.children(".csf-field-typography").csf_field_typography(),
b.children(".csf-field-upload").csf_field_media(),b.children(".csf-field-wp_editor").csf_field_wp_editor(),b.children(".csf-field-border").find(".csf-color").csf_color(),b.children(".csf-field-background").find(".csf-color").csf_color(),b.children(".csf-field-color").find(".csf-color").csf_color(),b.children(".csf-field-color_group").find(".csf-color").csf_color(),b.children(".csf-field-link_color").find(".csf-color").csf_color(),b.children(".csf-field-typography").find(".csf-color").csf_color(),
b.children(".csf-field-select").find(".csf-chosen").csf_chosen(),b.children(".csf-field-checkbox").find(".csf-checkbox").csf_checkbox(),b.children(".csf-field-button_set").find(".csf-siblings").csf_siblings(),b.children(".csf-field-image_select").find(".csf-siblings").csf_siblings(),b.children(".csf-field-palette").find(".csf-siblings").csf_siblings(),b.children(".csf-field").find(".csf-help").csf_help(),c.dependency&&b.csf_dependency(),b.data("inited",!0),d(D).trigger("csf-reload-script",b))})};
d(D).ready(function(){d(".csf-save").csf_save();d(".csf-options").OCF_Options();d(".csf-sticky-header").csf_sticky();d(".csf-nav-options").csf_nav_options();d(".csf-nav-metabox").csf_nav_metabox();d(".csf-taxonomy").csf_taxonomy();d(".csf-page-templates").csf_page_templates();d(".csf-post-formats").csf_post_formats();d(".csf-shortcode").csf_shortcode();d(".csf-search").csf_search();d(".csf-confirm").csf_confirm();d(".csf-expand-all").csf_expand_all();d(".csf-onload").csf_reload_script();d("#widgets-editor").csf_widgets();
d("#widgets-right").csf_widgets();d("#menu-to-edit").csf_nav_menu()})}(jQuery,window,document);
new function(d){var w=d.separator||"&",D=!1===d.spaces?!1:!0,E=!1!==d.prefix?!0===d.hash?"#":"?":"",n=!1===d.numbers?!1:!0;jQuery.query=new function(){var a=function(e,f){return void 0!=e&&null!==e&&(f?e.constructor==f:!0)},c=function(e){for(var f=/\[([^[]*)\]/g,h=/^([^[]+)(\[.*\])?$/.exec(e),k=h[1],l=[];e=f.exec(h[2]);)l.push(e[1]);return[k,l]},b=function(e,f,h){var k=f.shift();"object"!=typeof e&&(e=null);if(""===k)if(e||=[],a(e,Array))e.push(0==f.length?h:b(null,f.slice(0),h));else if(a(e,Object)){for(k=
0;null!=e[k++];);e[--k]=0==f.length?h:b(e[k],f.slice(0),h)}else e=[],e.push(0==f.length?h:b(null,f.slice(0),h));else if(k&&k.match(/^\s*[0-9]+\s*$/)){var l=parseInt(k,10);e||=[];e[l]=0==f.length?h:b(e[l],f.slice(0),h)}else if(k){l=k.replace(/^\s*|\s*$/g,"");e||={};if(a(e,Array)){var m={};for(k=0;k<e.length;++k)m[k]=e[k];e=m}e[l]=0==f.length?h:b(e[l],f.slice(0),h)}else return h;return e},g=function(e){var f=this;f.keys={};e.queryObject?jQuery.each(e.get(),function(h,k){f.SET(h,k)}):f.parseNew.apply(f,
arguments);return f};g.prototype={queryObject:!0,parseNew:function(){var e=this;e.keys={};jQuery.each(arguments,function(){var f=(""+this).replace(/^[?#]/,"");f=f.replace(/[;&]$/,"");D&&(f=f.replace(/[+]/g," "));jQuery.each(f.split(/[&;]/),function(){var h=decodeURIComponent(this.split("=")[0]||""),k=decodeURIComponent(this.split("=")[1]||"");h&&(n&&(/^[+-]?[0-9]+\.[0-9]*$/.test(k)?k=parseFloat(k):/^[+-]?[1-9][0-9]*$/.test(k)&&(k=parseInt(k,10))),e.SET(h,k||0===k?k:!0))})});return e},has:function(e,
f){e=this.get(e);return a(e,f)},GET:function(e){if(!a(e))return this.keys;var f=c(e);e=f[1];for(f=this.keys[f[0]];null!=f&&0!=e.length;)f=f[e.shift()];return"number"==typeof f?f:f||""},get:function(e){e=this.GET(e);return a(e,Object)?jQuery.extend(!0,{},e):a(e,Array)?e.slice(0):e},SET:function(e,f){if(!e.includes("__proto__")){f=a(f)?f:null;e=c(e);var h=e[0];this.keys[h]=b(this.keys[h],e[1].slice(0),f)}return this},set:function(e,f){return this.copy().SET(e,f)},REMOVE:function(e,f){if(f){var h=this.GET(e);
if(a(h,Array)){for(tval in h)h[tval]=h[tval].toString();f=$.inArray(f,h);if(0<=f)e=h.splice(f,1),e=e[f];else return}else if(f!=h)return}return this.SET(e,null).COMPACT()},remove:function(e,f){return this.copy().REMOVE(e,f)},EMPTY:function(){var e=this;jQuery.each(e.keys,function(f,h){delete e.keys[f]});return e},load:function(e){var f=e.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),h=e.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new g(e.length==h.length?"":h,e.length==f.length?"":f)},empty:function(){return this.copy().EMPTY()},
copy:function(){return new g(this)},COMPACT:function(){function e(f){var h="object"==typeof f?a(f,Array)?[]:{}:f;"object"==typeof f&&jQuery.each(f,function(k,l){if(!a(l))return!0;l=e(l);a(h,Array)?h.push(l):h[k]=l});return h}this.keys=e(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var e=[],f=[],h=function(l){l=encodeURIComponent(l+"");D&&(l=l.replace(/%20/g,"+"));return l},k=function(l,m){var p=function(r){return m&&""!=m?[m,"[",r,"]"].join(""):[r].join("")};
jQuery.each(l,function(r,u){"object"==typeof u?k(u,p(r)):(r=p(r),a(u)&&!1!==u&&(r=[h(r)],!0!==u&&(r.push("="),r.push(h(u))),f.push(r.join(""))))})};k(this.keys);0<f.length&&e.push(E);e.push(f.join(w));return e.join("")}};return new g(location.search,location.hash)}}(jQuery.query||{});
