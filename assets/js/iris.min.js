/*
 This file is auto-generated  Iris Color Picker - v1.1.1 - 2021-10-05
 https://github.com/Automattic/Iris
 Copyright (c) 2021 Matt Wiebe; Licensed GPLv2 */
!function(p,w){function z(){var b;l?m="filter":(b=p('<div id="iris-gradtest" />'),p.each(x,function(c,e){if(b.css("backgroundImage",e+"linear-gradient(top,#fff,#000)"),b.css("backgroundImage").match("gradient"))return m=c,!1}),!1===m&&(b.css("background","-webkit-gradient(linear,0% 0%,0% 100%,from(#fff),to(#000))"),b.css("backgroundImage").match("gradient")&&(m="webkit")),b.remove())}function C(b,c){return b="top"===b?"top":"left",c=Array.isArray(c)?c:Array.prototype.slice.call(arguments,1),"webkit"===
m?a(b,c):x[m]+"linear-gradient("+b+", "+c.join(", ")+")"}function B(b,c){b="top"===b?"top":"left";c=Array.isArray(c)?c:Array.prototype.slice.call(arguments,1);var e="top"===b?0:1;var h=p(this);var g=c.length-1;var q='<div class="iris-ie-gradient-shim" style="position:absolute;'+(1===e?"height":"width")+":100%;"+(1===e?"left":"top")+":%start%;"+(1===e?"right":"bottom")+':%end%;filter:%filter%;" data-color:"%color%"></div>';var n="";"static"===h.css("position")&&h.css({position:"relative"});c=d(c);
p.each(c,function(k,u){var v,A;if(k===g)return!1;k=c[k+1];u.stop!==k.stop&&(v=100-parseFloat(k.stop)+"%",u.octoHex=(new Color(u.color)).toIEOctoHex(),k.octoHex=(new Color(k.color)).toIEOctoHex(),A="progid:DXImageTransform.Microsoft.Gradient(GradientType="+e+", StartColorStr='"+u.octoHex+"', EndColorStr='"+k.octoHex+"')",n+=q.replace("%start%",u.stop).replace("%end%",v).replace("%filter%",A))});h.find(".iris-ie-gradient-shim").remove();p(n).prependTo(h)}function a(b,c){var e=[];return b="top"===b?
"0% 0%,0% 100%,":"0% 100%,100% 100%,",c=d(c),p.each(c,function(h,g){e.push("color-stop("+parseFloat(g.stop)/100+", "+g.color+")")}),"-webkit-gradient(linear,"+b+e.join(",")+")"}function d(b){var c=[],e=[],h=[],g=b.length-1;return p.each(b,function(q,n){q=n;var k=!1,u=n.match(/1?[0-9]{1,2}%$/);u&&(q=n.replace(/\s?1?[0-9]{1,2}%$/,""),k=u.shift());c.push(q);e.push(k)}),!1===e[0]&&(e[0]="0%"),!1===e[g]&&(e[g]="100%"),e=f(e),p.each(e,function(q){h[q]={color:c[q],stop:e[q]}}),h}function f(b){var c=0;var e=
b.length-1;var h=0;var g=!1;if(2>=b.length||0>p.inArray(!1,b))return b;for(;h<b.length-1;)g||!1!==b[h]?g&&!1!==b[h]&&(e=h,h=b.length):(c=h-1,g=!0),h++;h=e-c;g=parseInt(b[c].replace("%"),10);var q=(parseFloat(b[e].replace("%"))-g)/h;h=c+1;for(c=1;h<e;)b[h]=g+c*q+"%",c++,h++;return f(b)}var l,m,x,r,t,y;if(r=navigator.userAgent.toLowerCase(),t="Microsoft Internet Explorer"===navigator.appName,y=t?parseFloat(r.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,l=t&&10>y,m=!1,x=["-moz-","-webkit-","-o-","-ms-"],
l&&7>=y)return p.fn.iris=p.noop,void(p.support.iris=!1);p.support.iris=!0;p.fn.gradient=function(){var b=arguments;return this.each(function(){l?B.apply(this,b):p(this).css("backgroundImage",C.apply(this,b))})};p.fn.rainbowGradient=function(b,c){var e;b=b||"top";c=p.extend({},{s:100,l:50},c);c="hsl(%h%,"+c.s+"%,"+c.l+"%)";var h=0;for(e=[];360>=h;)e.push(c.replace("%h%",h)),h+=30;return this.each(function(){p(this).gradient(b,e)})};p.widget("a8c.iris",{options:{color:!1,mode:"hsl",controls:{horiz:"s",
vert:"l",strip:"h"},hide:!0,border:!0,target:!1,width:200,palettes:!1,type:"full",slider:"horizontal"},_color:"",_palettes:"#000 #fff #d33 #d93 #ee2 #81d742 #1e73be #8224e3".split(" "),_inited:!1,_defaultHSLControls:{horiz:"s",vert:"l",strip:"h"},_defaultHSVControls:{horiz:"h",vert:"v",strip:"s"},_scale:{h:360,s:100,l:100,v:100},_create:function(){var b=this.element,c=this.options.color||b.val();!1===m&&z();b.is("input")?(this.options.target?this.picker=p('<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>').appendTo(this.options.target):
this.picker=p('<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>').insertAfter(b),this._addInputListeners(b)):(b.append('<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>'),
this.picker=b.find(".iris-picker"));t?9===y?this.picker.addClass("iris-ie-9"):8>=y&&this.picker.addClass("iris-ie-lt9"):0>r.indexOf("compatible")&&0>r.indexOf("khtml")&&r.match(/mozilla/)&&this.picker.addClass("iris-mozilla");this.options.palettes&&this._addPalettes();this.horizontalSlider=(this.onlySlider="hue"===this.options.type)&&"horizontal"===this.options.slider;this.onlySlider&&(this.options.controls.strip="h",c||="hsl(10,100,50)");this._color=(new Color(c)).setHSpace(this.options.mode);this.options.color=
this._color.toString();this.controls={square:this.picker.find(".iris-square"),squareDrag:this.picker.find(".iris-square-value"),horiz:this.picker.find(".iris-square-horiz"),vert:this.picker.find(".iris-square-vert"),strip:this.picker.find(".iris-strip"),stripSlider:this.picker.find(".iris-strip .iris-slider-offset")};"hsv"===this.options.mode&&this._has("l",this.options.controls)?this.options.controls=this._defaultHSVControls:"hsl"===this.options.mode&&this._has("v",this.options.controls)&&(this.options.controls=
this._defaultHSLControls);this.hue=this._color.h();this.options.hide&&this.picker.hide();this.options.border&&!this.onlySlider&&this.picker.addClass("iris-border");this._initControls();this.active="external";this._dimensions();this._change()},_has:function(b,c){var e=!1;return p.each(c,function(h,g){if(b===g)return e=!0,!1}),e},_addPalettes:function(){var b=p('<div class="iris-palette-container" />'),c=p('<a class="iris-palette" tabindex="0" />'),e=Array.isArray(this.options.palettes)?this.options.palettes:
this._palettes;this.picker.find(".iris-palette-container").length&&(b=this.picker.find(".iris-palette-container").detach().html(""));p.each(e,function(h,g){c.clone().data("color",g).css("backgroundColor",g).appendTo(b).height(10).width(10)});this.picker.append(b)},_paint:function(){this.horizontalSlider?this._paintDimension("left","strip"):this._paintDimension("top","strip");this._paintDimension("top","vert");this._paintDimension("left","horiz")},_paintDimension:function(b,c){var e=this._color,h=
this.options.mode,g=this._getHSpaceColor(),q=this.controls[c],n=this.options.controls;if(c!==this.active&&("square"!==this.active||"strip"===c))switch(n[c]){case "h":if("hsv"===h){switch(g=e.clone(),c){case "horiz":g[n.vert](100);break;case "vert":g[n.horiz](100);break;case "strip":g.setHSpace("hsl")}var k=g.toHsl()}else k="strip"===c?{s:g.s,l:g.l}:{s:100,l:g.l};q.rainbowGradient(b,k);break;case "s":"hsv"===h?"vert"===c?k=[e.clone().a(0).s(0).toCSS("rgba"),e.clone().a(1).s(0).toCSS("rgba")]:"strip"===
c?k=[e.clone().s(100).toCSS("hsl"),e.clone().s(0).toCSS("hsl")]:"horiz"===c&&(k=["#fff","hsl("+g.h+",100%,50%)"]):k="vert"===c&&"h"===this.options.controls.horiz?["hsla(0, 0%, "+g.l+"%, 0)","hsla(0, 0%, "+g.l+"%, 1)"]:["hsl("+g.h+",0%,50%)","hsl("+g.h+",100%,50%)"];q.gradient(b,k);break;case "l":k="strip"===c?["hsl("+g.h+",100%,100%)","hsl("+g.h+", "+g.s+"%,50%)","hsl("+g.h+",100%,0%)"]:["#fff","rgba(255,255,255,0) 50%","rgba(0,0,0,0) 50%","rgba(0,0,0,1)"];q.gradient(b,k);break;case "v":k="strip"===
c?[e.clone().v(100).toCSS(),e.clone().v(0).toCSS()]:["rgba(0,0,0,0)","#000"],q.gradient(b,k)}},_getHSpaceColor:function(){return"hsv"===this.options.mode?this._color.toHsv():this._color.toHsl()},_stripOnlyDimensions:function(){var b=this.options.width,c=.12*b;this.horizontalSlider?this.picker.css({width:b,height:c}).addClass("iris-only-strip iris-strip-horiz"):this.picker.css({width:c,height:b}).addClass("iris-only-strip iris-strip-vert")},_dimensions:function(b){if("hue"===this.options.type)return this._stripOnlyDimensions();
var c,e=this.options,h=this.controls.square,g=this.picker.find(".iris-strip"),q="77.5%",n="12%",k=e.border?e.width-20:e.width,u=Array.isArray(e.palettes)?e.palettes.length:this._palettes.length;if(b&&(h.css("width",""),g.css("width",""),this.picker.css({width:"",height:""})),q=k*(parseFloat(q)/100),n=k*(parseFloat(n)/100),c=e.border?q+20:q,h.width(q).height(q),g.height(q).width(n),this.picker.css({width:e.width,height:c}),!e.palettes)return this.picker.css("paddingBottom","");var v=2*q/100;var A=
(q-(u-1)*v)/u;this.picker.find(".iris-palette").each(function(D){D=0===D?0:v;p(this).css({width:A,height:A,marginLeft:D})});this.picker.css("paddingBottom",A+v);g.height(A+v+q)},_addInputListeners:function(b){var c=this,e=function(h){var g=new Color(b.val()),q=b.val().replace(/^#/,"");b.removeClass("iris-error");g.error?""!==q&&b.addClass("iris-error"):g.toString()!==c._color.toString()&&("keyup"===h.type&&q.match(/^[0-9a-fA-F]{3}$/)||c._setOption("color",g.toString()))};b.on("change",e).on("keyup",
c._debounce(e,100));c.options.hide&&b.one("focus",function(){c.show()})},_initControls:function(){var b=this,c=b.controls,e=c.square,h=b.options.controls,g=b._scale[h.strip],q=b.horizontalSlider?"horizontal":"vertical";c.stripSlider.slider({orientation:q,max:g,slide:function(n,k){b.active="strip";"h"===h.strip&&"vertical"===q&&(k.value=g-k.value);b._color[h.strip](k.value);b._change.apply(b,arguments)}});c.squareDrag.draggable({containment:c.square.find(".iris-square-inner"),zIndex:1E3,cursor:"move",
drag:function(n,k){b._squareDrag(n,k)},start:function(){e.addClass("iris-dragging");p(this).addClass("ui-state-focus")},stop:function(){e.removeClass("iris-dragging");p(this).removeClass("ui-state-focus")}}).on("mousedown mouseup",function(n){n.preventDefault();"mousedown"===n.type?(b.picker.find(".ui-state-focus").removeClass("ui-state-focus").trigger("blur"),p(this).addClass("ui-state-focus").trigger("focus")):p(this).removeClass("ui-state-focus")}).on("keydown",function(n){var k=c.square,u=c.squareDrag,
v=u.position(),A=b.options.width/100;switch(n.altKey&&(A*=10),n.keyCode){case 37:v.left-=A;break;case 38:v.top-=A;break;case 39:v.left+=A;break;case 40:v.top+=A;break;default:return!0}v.left=Math.max(0,Math.min(v.left,k.width()));v.top=Math.max(0,Math.min(v.top,k.height()));u.css(v);b._squareDrag(n,{position:v});n.preventDefault()});e.on("mousedown",function(n){var k,u;1===n.which&&p(n.target).is("div")&&(k=b.controls.square.offset(),u={top:n.pageY-k.top,left:n.pageX-k.left},n.preventDefault(),b._squareDrag(n,
{position:u}),n.target=b.controls.squareDrag.get(0),b.controls.squareDrag.css(u).trigger(n))});b.options.palettes&&b._paletteListeners()},_paletteListeners:function(){var b=this;b.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){b._color.fromCSS(p(this).data("color"));b.active="external";b._change()}).on("keydown.palette",".iris-palette",function(c){if(13!==c.keyCode&&32!==c.keyCode)return!0;c.stopPropagation();p(this).trigger("click")})},_squareDrag:function(b,
c){var e=this.options.controls,h=this._squareDimensions(),g=Math.round((h.h-c.position.top)/h.h*this._scale[e.vert]);this._color[e.horiz](this._scale[e.horiz]-Math.round((h.w-c.position.left)/h.w*this._scale[e.horiz]))[e.vert](g);this.active="square";this._change.apply(this,arguments)},_setOption:function(b,c){var e,h=this.options[b],g=!1;switch(this.options[b]=c,b){case "color":this.onlySlider?(c=parseInt(c,10),c=isNaN(c)||0>c||359<c?h:"hsl("+c+",100,50)",this.options.color=this.options[b]=c,this._color=
(new Color(c)).setHSpace(this.options.mode),this.active="external",this._change()):(c=""+c,c.replace(/^#/,""),e=(new Color(c)).setHSpace(this.options.mode),e.error?this.options[b]=h:(this._color=e,this.options.color=this.options[b]=this._color.toString(),this.active="external",this._change()));break;case "palettes":g=!0;c?this._addPalettes():this.picker.find(".iris-palette-container").remove();h||this._paletteListeners();break;case "width":g=!0;break;case "border":g=!0;this.picker[c?"addClass":"removeClass"]("iris-border");
break;case "mode":case "controls":return h===c?void 0:(h=this.options,h.hide=!this.picker.is(":visible"),this.destroy(),this.picker.remove(),p(this.element).iris(h))}g&&this._dimensions(!0)},_squareDimensions:function(b){var c,e=this.controls.square;return b!==w&&e.data("dimensions")?e.data("dimensions"):(this.controls.squareDrag,c={w:e.width(),h:e.height()},e.data("dimensions",c),c)},_isNonHueControl:function(b,c){return"square"===b&&"h"===this.options.controls.strip||"external"!==c&&("h"!==c||"strip"!==
b)},_change:function(){var b=this,c=b.controls,e=b._getHSpaceColor(),h=["square","strip"],g=b.options.controls,q=g[b.active]||"external",n=b.hue;"strip"===b.active?h=[]:"external"!==b.active&&h.pop();p.each(h,function(k,u){if(u!==b.active)switch(u){case "strip":k="h"!==g.strip||b.horizontalSlider?e[g.strip]:b._scale[g.strip]-e[g.strip];c.stripSlider.slider("value",k);break;case "square":k=b._squareDimensions(),k={left:e[g.horiz]/b._scale[g.horiz]*k.w,top:k.h-e[g.vert]/b._scale[g.vert]*k.h},b.controls.squareDrag.css(k)}});
e.h!==n&&b._isNonHueControl(b.active,q)&&b._color.h(n);b.hue=b._color.h();b.options.color=b._color.toString();b._inited&&b._trigger("change",{type:b.active},{color:b._color});b.element.is(":input")&&!b._color.error&&(b.element.removeClass("iris-error"),b.onlySlider?b.element.val()!==b.hue&&b.element.val(b.hue):b.element.val()!==b._color.toString()&&b.element.val(b._color.toString()));b._paint();b._inited=!0;b.active=!1},_debounce:function(b,c,e){var h,g;return function(){var q,n,k=this,u=arguments;
return q=function(){h=null;e||(g=b.apply(k,u))},n=e&&!h,clearTimeout(h),h=setTimeout(q,c),n&&(g=b.apply(k,u)),g}},show:function(){this.picker.show()},hide:function(){this.picker.hide()},toggle:function(){this.picker.toggle()},color:function(b){return!0===b?this._color.clone():b===w?this._color.toString():void this.option("color",b)}});p('<style id="iris-css">.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-only-strip .iris-slider{width:100%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-only-strip .iris-square{display:none}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0 0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0 0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip-horiz .iris-strip .ui-slider-handle{right:auto;left:auto;bottom:-3px;top:-3px;height:auto;width:6px;cursor:ew-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-strip-horiz .iris-slider-offset{top:0;bottom:0;right:11px;left:-3px}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}</style>').appendTo("head")}(jQuery);
(function(p,w){var z=function(a,d){return this instanceof z?this._init(a,d):new z(a,d)};z.fn=z.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(a){var d="noop";switch(typeof a){case "object":return a.a!==w&&this.a(a.a),d=a.r!==w?"fromRgb":a.l!==w?"fromHsl":a.v!==w?"fromHsv":d,this[d](a);case "string":return this.fromCSS(a);case "number":return this.fromInt(parseInt(a,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var a=
new z(this.toInt()),d=["_alpha","_hSpace","_hsl","_hsv","error"],f=d.length-1;0<=f;f--)a[d[f]]=this[d[f]];return a},setHSpace:function(a){return this._hSpace="hsv"===a?a:"hsl",this},noop:function(){return this},fromCSS:function(a){var d,f=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,a=a.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,""),a.match(f)&&a.match(/\)$/)){if(d=a.replace(/(\s|%)/g,"").replace(f,"").replace(/,?\);?$/,"").split(","),3>d.length)return this._error();if(4===d.length&&(this.a(parseFloat(d.pop())),
this.error))return this;for(f=d.length-1;0<=f;f--)if(d[f]=parseInt(d[f],10),isNaN(d[f]))return this._error();return a.match(/^rgb/)?this.fromRgb({r:d[0],g:d[1],b:d[2]}):a.match(/^hsv/)?this.fromHsv({h:d[0],s:d[1],v:d[2]}):this.fromHsl({h:d[0],s:d[1],l:d[2]})}return this.fromHex(a)},fromRgb:function(a,d){return"object"!=typeof a||a.r===w||a.g===w||a.b===w?this._error():(this.error=!1,this.fromInt(parseInt((a.r<<16)+(a.g<<8)+a.b,10),d))},fromHex:function(a){return a=a.replace(/^#/,"").replace(/^0x/,
""),3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),this.error=!/^[0-9A-F]{6}$/i.test(a),this.fromInt(parseInt(a,16))},fromHsl:function(a){var d,f,l,m,x,r,t,y;return"object"!=typeof a||a.h===w||a.s===w||a.l===w?this._error():(this._hsl=a,this._hSpace="hsl",r=a.h/360,t=a.s/100,y=a.l/100,0===t?d=f=l=y:(m=.5>y?y*(1+t):y+t-y*t,x=2*y-m,d=this.hue2rgb(x,m,r+1/3),f=this.hue2rgb(x,m,r),l=this.hue2rgb(x,m,r-1/3)),this.fromRgb({r:255*d,g:255*f,b:255*l},!0))},fromHsv:function(a){var d,f,l,m,x,r,t,y;if("object"!=
typeof a||a.h===w||a.s===w||a.v===w)return this._error();switch(this._hsv=a,this._hSpace="hsv",d=a.h/360,f=a.s/100,l=a.v/100,m=Math.floor(6*d),x=6*d-m,r=l*(1-f),t=l*(1-x*f),y=l*(1-(1-x)*f),m%6){case 0:var b=l;var c=y;var e=r;break;case 1:b=t;c=l;e=r;break;case 2:b=r;c=l;e=y;break;case 3:b=r;c=t;e=l;break;case 4:b=y;c=r;e=l;break;case 5:b=l,c=r,e=t}return this.fromRgb({r:255*b,g:255*c,b:255*e},!0)},fromInt:function(a,d){return this._color=parseInt(a,10),isNaN(this._color)&&(this._color=0),16777215<
this._color?this._color=16777215:0>this._color&&(this._color=0),d===w&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(a,d,f){return 0>f&&(f+=1),1<f&&--f,f<1/6?a+6*(d-a)*f:.5>f?d:f<2/3?a+(d-a)*(2/3-f)*6:a},toString:function(){var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(6>a.length)for(var d=6-a.length-1;0<=d;d--)a="0"+a;return"#"+a},toCSS:function(a,d){switch(a=a||"hex",d=parseFloat(d||this._alpha),a){case "rgb":case "rgba":return a=this.toRgb(),
1>d?"rgba( "+a.r+", "+a.g+", "+a.b+", "+d+" )":"rgb( "+a.r+", "+a.g+", "+a.b+" )";case "hsl":case "hsla":return a=this.toHsl(),1>d?"hsla( "+a.h+", "+a.s+"%, "+a.l+"%, "+d+" )":"hsl( "+a.h+", "+a.s+"%, "+a.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var a=this.toRgb(),d=a.r/255,f=a.g/255;a=a.b/255;var l=Math.max(d,f,a);var m=Math.min(d,f,a);var x=(l+m)/2;if(l===m)var r=m=0;else{var t=l-m;switch(m=.5<
x?t/(2-l-m):t/(l+m),l){case d:r=(f-a)/t+(f<a?6:0);break;case f:r=(a-d)/t+2;break;case a:r=(d-f)/t+4}r/=6}return r=Math.round(360*r),0===r&&this._hsl.h!==r&&(r=this._hsl.h),m=Math.round(100*m),0===m&&this._hsl.s&&(m=this._hsl.s),{h:r,s:m,l:Math.round(100*x)}},toHsv:function(){var a=this.toRgb();var d=a.r/255,f=a.g/255,l=a.b/255,m=Math.max(d,f,l),x=Math.min(d,f,l),r=m-x;if(a=0===m?0:r/m,m===x)var t=a=0;else{switch(m){case d:t=(f-l)/r+(f<l?6:0);break;case f:t=(l-d)/r+2;break;case l:t=(d-f)/r+4}t/=6}return t=
Math.round(360*t),0===t&&this._hsv.h!==t&&(t=this._hsv.h),a=Math.round(100*a),0===a&&this._hsv.s&&(a=this._hsv.s),{h:t,s:a,v:Math.round(100*m)}},toInt:function(){return this._color},toIEOctoHex:function(){var a=this.toString(),d=parseInt(255*this._alpha,10).toString(16);return 1===d.length&&(d="0"+d),"#"+d+a.replace(/^#/,"")},toLuminosity:function(){var a=this.toRgb(),d={},f;for(f in a)if(a.hasOwnProperty(f)){var l=a[f]/255;d[f]=.03928>=l?l/12.92:Math.pow((l+.055)/1.055,2.4)}return.2126*d.r+.7152*
d.g+.0722*d.b},getDistanceLuminosityFrom:function(a){if(!(a instanceof z))throw"getDistanceLuminosityFrom requires a Color object";var d=this.toLuminosity();a=a.toLuminosity();return d>a?(d+.05)/(a+.05):(a+.05)/(d+.05)},getMaxContrastColor:function(){var a=this.getDistanceLuminosityFrom(new z("#000")),d=this.getDistanceLuminosityFrom(new z("#fff"));return new z(a>=d?"#000":"#fff")},getReadableContrastingColor:function(a,d){if(!(a instanceof z))return this;var f;d=d===w?5:d;var l=a.getDistanceLuminosityFrom(this);
if(l>=d)return this;if(f=a.getMaxContrastColor(),f.getDistanceLuminosityFrom(a)<=d)return f;for(f=0===f.toInt()?-1:1;l<d&&(this.l(f,!0),l=this.getDistanceLuminosityFrom(a),0!==this._color&&16777215!==this._color););return this},a:function(a){if(a===w)return this._alpha;a=parseFloat(a);return isNaN(a)?this._error():(this._alpha=a,this)},darken:function(a){return a=a||5,this.l(-a,!0)},lighten:function(a){return a=a||5,this.l(a,!0)},saturate:function(a){return a=a||15,this.s(a,!0)},desaturate:function(a){return a=
a||15,this.s(-a,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(a){return this.h(180+30*(a||1),!0)},getAnalog:function(a){return this.h(30*(a||1),!0)},getTetrad:function(a){return this.h(60*(a||1),!0)},getTriad:function(a){return this.h(120*(a||1),!0)},_partial:function(a){var d=C[a];return function(f,l){var m=this._spaceFunc("to",d.space);return f===w?m[a]:(!0===l&&(f=m[a]+f),d.mod&&(f%=d.mod),d.range&&(f=
f<d.range[0]?d.range[0]:f>d.range[1]?d.range[1]:f),m[a]=f,this._spaceFunc("from",d.space,m))}},_spaceFunc:function(a,d,f){d=d||this._hSpace;return this[a+d.charAt(0).toUpperCase()+d.substr(1)](f)}};var C={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}},B;for(B in C)C.hasOwnProperty(B)&&(z.fn[B]=z.fn._partial(B));"object"==typeof exports?module.exports=z:p.Color=z})(this);
