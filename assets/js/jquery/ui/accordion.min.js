/*
 jQuery UI Accordion 1.13.0
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery","./core"],d):d(jQuery)})(function(d){return d.widget("ui.accordion",{version:"1.13.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(a){return a.find("> li > :first-child").add(a.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",
header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=d();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");a.collapsible||!1!==a.active&&null!=a.active||
(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var a=this.options.icons;if(a){var b=d("<span>");this._addClass(b,"ui-accordion-header-icon","ui-icon "+a.header);b.prependTo(this.headers);b=this.active.children(".ui-accordion-header-icon");this._removeClass(b,a.header)._addClass(b,null,a.activeHeader)._addClass(this.headers,
"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&a.css("height","")},
_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()))},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",
!!a)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var b=d.ui.keyCode,e=this.headers.length,f=this.headers.index(a.target),c=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:c=this.headers[(f+1)%e];break;case b.LEFT:case b.UP:c=this.headers[(f-1+e)%e];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:c=this.headers[0];break;case b.END:c=this.headers[e-1]}c&&(d(a.target).attr("tabIndex",-1),d(c).attr("tabIndex",0),d(c).trigger("focus"),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===
d.ui.keyCode.UP&&a.ctrlKey&&d(a.currentTarget).prev().trigger("focus")},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=d()):!1===a.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=d()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active);this._destroyIcons();
this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers="function"===typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");b&&(this._off(a.not(this.headers)),
this._off(b.not(this.panels)))},_refresh:function(){var a=this.options,b=a.heightStyle,e=this.element.parent();this.active=this._findActive(a.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var c=d(this),g=c.uniqueId().attr("id"),h=c.next(),m=h.uniqueId().attr("id");c.attr("aria-controls",
m);h.attr("aria-labelledby",g)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(a.event);if("fill"===b){var f=e.height();this.element.siblings(":visible").each(function(){var c=
d(this),g=c.css("position");"absolute"!==g&&"fixed"!==g&&(f-=c.outerHeight(!0))});this.headers.each(function(){f-=d(this).outerHeight(!0)});this.headers.next().each(function(){d(this).height(Math.max(0,f-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else"auto"===b&&(f=0,this.headers.next().each(function(){var c=d(this).is(":visible");c||d(this).show();f=Math.max(f,d(this).css("height","").height());c||d(this).hide()}).height(f))},_activate:function(a){a=this._findActive(a)[0];
a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}))},_findActive:function(a){return"number"===typeof a?this.headers.eq(a):d()},_setupEvents:function(a){var b={keydown:"_keydown"};a&&d.each(a.split(" "),function(e,f){b[f]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var b,
e=this.options,f=this.active,c=d(a.currentTarget),g=(b=c[0]===f[0])&&e.collapsible,h=g?d():c.next(),m=f.next();h={oldHeader:f,oldPanel:m,newHeader:g?d():c,newPanel:h};a.preventDefault();b&&!e.collapsible||!1===this._trigger("beforeActivate",a,h)||(e.active=g?!1:this.headers.index(c),this.active=b?d():c,this._toggle(h),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),e.icons&&(a=f.children(".ui-accordion-header-icon"),this._removeClass(a,null,e.icons.activeHeader)._addClass(a,null,
e.icons.header)),b||(this._removeClass(c,"ui-accordion-header-collapsed")._addClass(c,"ui-accordion-header-active","ui-state-active"),e.icons&&(b=c.children(".ui-accordion-header-icon"),this._removeClass(b,null,e.icons.header)._addClass(b,null,e.icons.activeHeader)),this._addClass(c.next(),"ui-accordion-content-active")))},_toggle:function(a){var b=a.newPanel,e=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=b;this.prevHide=e;this.options.animate?
this._animate(b,e,a):(e.hide(),b.show(),this._toggleComplete(a));e.attr({"aria-hidden":"true"});e.prev().attr({"aria-selected":"false","aria-expanded":"false"});b.length&&e.length?e.prev().attr({tabIndex:-1,"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,e){var f,c,g=this,h=0,m=a.css("box-sizing"),
k=a.length&&(!b.length||a.index()<b.index()),n=this.options.animate||{};k=k&&n.down||n;var p=function(){g._toggleComplete(e)};"number"===typeof k&&(c=k);"string"===typeof k&&(f=k);f=f||k.easing||n.easing;c=c||k.duration||n.duration;if(!b.length)return a.animate(this.showProps,c,f,p);if(!a.length)return b.animate(this.hideProps,c,f,p);var r=a.show().outerHeight();b.animate(this.hideProps,{duration:c,easing:f,step:function(q,l){l.now=Math.round(q)}});a.hide().animate(this.showProps,{duration:c,easing:f,
complete:p,step:function(q,l){l.now=Math.round(q);"height"!==l.prop?"content-box"===m&&(h+=l.now):"content"!==g.options.heightStyle&&(l.now=Math.round(r-b.outerHeight()-h),h=0)}})},_toggleComplete:function(a){var b=a.oldPanel,e=b.prev();this._removeClass(b,"ui-accordion-content-active");this._removeClass(e,"ui-accordion-header-active")._addClass(e,"ui-accordion-header-collapsed");b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})});
